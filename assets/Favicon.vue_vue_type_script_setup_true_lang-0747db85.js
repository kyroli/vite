import{a as y}from"./commons-4d60aff1.js";import{h as p,r as c,aT as s,aU as a,aY as t,dC as x,cg as m,aW as S}from"./index-40248cb3.js";import{u as h}from"./site-164248d6.js";import{u as v}from"./icon_style-9b4d24a1.js";const C=["src"],q=p({__name:"Favicon",props:{site:{type:Object,required:!0},siteIndex:{type:Number,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const i=e,o=h(),{iconStyle:f}=v(),l=c(!1),u=c(!0);function g(n){l.value=!0,o.setGroupIndex(i.groupIndex),o.setSiteIndex(i.siteIndex),!n.bgColor&&o.updateSite({...n,bgColor:y()})}return(n,r)=>(s(),a("div",{style:m(t(f)),"h-18":"","w-18":"",md:"h-22 w-22",lg:"h-22 w-22"},[t(l)?(s(),a("div",{key:1,style:m({backgroundColor:e.site.bgColor}),"h-full":"","w-full":"","flex-center":"","scale-112":"","rounded-full":"",text:"white sm"},S(e.site.name.length>0?e.site.name.toLocaleUpperCase().charAt(0):"c"),5)):(s(),a("img",{key:0,src:e.site.favicon||t(x)(e.site.url),"h-full":"","w-full":"",decoding:"async",loading:"lazy",onError:r[0]||(r[0]=d=>g(e.site)),onOnload:r[1]||(r[1]=(...d)=>t(u)&&t(u)(...d))},null,40,C))],4))}});export{q as _};
